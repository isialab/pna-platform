{"version":3,"file":"icon-button.js","sources":["../../../src/components/icon-button/icon-button.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2019, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\nimport { prefix } from '../../globals/settings';\nimport '../tooltip/index';\nimport '../button/index';\nimport CDSButton from '../button/button';\nimport { ICON_BUTTON_SIZE, ICON_BUTTON_TOOLTIP_ALIGNMENT } from './defs';\nimport styles from './icon-button.scss?lit';\n\nexport { ICON_BUTTON_SIZE, ICON_BUTTON_TOOLTIP_ALIGNMENT };\n\n/**\n * Icon Button\n *\n * @element cds-icon-button\n */\n@customElement(`${prefix}-icon-button`)\nclass CDSIconButton extends CDSButton {\n  /**\n   * Checks if a badge indicator is being used with incorrect properties\n   */\n\n  /**\n   * Specify how the trigger should align with the tooltip\n   */\n  @property({ reflect: true, type: String })\n  align = 'top';\n\n  /**\n   * Specify whether a auto align functionality should be applied\n   */\n  @property({ type: Boolean, reflect: true })\n  autoalign = false;\n\n  /**\n   * Determines whether the tooltip should close when inner content is activated (click, Enter or Space)\n   */\n  @property({ attribute: 'close-on-activation', reflect: true, type: Boolean })\n  closeOnActivation = true;\n\n  /**\n   * Specify whether the tooltip should be open when it first renders\n   */\n  @property({ reflect: true, type: Boolean })\n  defaultOpen = false;\n\n  /**\n   * Specify the duration in milliseconds to delay before displaying the tooltip\n   */\n  @property({ attribute: 'enter-delay-ms', type: Number })\n  enterDelayMs = 100;\n\n  /**\n   * Specify the duration in milliseconds to delay before hiding the tooltip\n   */\n  @property({ attribute: 'leave-delay-ms', type: Number })\n  leaveDelayMs = 300;\n\n  /**\n   * Specify the size of the Button. Defaults to `md`.\n   */\n  @property({ reflect: true })\n  size = 'md';\n\n  updated(changedProperties) {\n    super.updated?.(changedProperties);\n    if (changedProperties) {\n      this.shadowRoot\n        ?.querySelector(`${prefix}-tooltip`)\n        ?.shadowRoot?.querySelector(`.${prefix}--tooltip`)\n        ?.classList.add(`${prefix}--icon-tooltip`);\n\n      const tooltipContent = this.querySelector(\n        '[slot=tooltip-content]'\n      )?.textContent;\n      this.shadowRoot\n        ?.querySelector(`${prefix}-tooltip`)\n        ?.querySelector(`button`)\n        ?.setAttribute('aria-label', String(tooltipContent));\n    }\n  }\n\n  protected _renderTooltipContent() {\n    return html`\n      <cds-tooltip-content>\n        <slot name=\"tooltip-content\"></slot>\n      </cds-tooltip-content>\n    `;\n  }\n\n  render() {\n    const {\n      align,\n      autoalign,\n      closeOnActivation,\n      defaultOpen,\n      enterDelayMs,\n      leaveDelayMs,\n    } = this;\n    return html`\n      <cds-tooltip\n        ?autoalign=${autoalign}\n        align=${align}\n        ?defaultOpen=${defaultOpen}\n        close-on-activation=\"${closeOnActivation}\"\n        enter-delay-ms=${enterDelayMs}\n        leave-delay-ms=${leaveDelayMs}>\n        ${super.render()} ${this._renderTooltipContent()}\n      </cds-tooltip>\n    `;\n  }\n\n  static styles = styles;\n}\n\nexport default CDSIconButton;\n"],"names":["customElement"],"mappings":"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"}
{"version":3,"file":"chat-button.js","sources":["../../../src/components/chat-button/chat-button.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2019, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\nimport '../button/button';\nimport { CHAT_BUTTON_SIZE, CHAT_BUTTON_KIND } from './defs';\nimport styles from './chat-button.scss?lit';\n\nexport { CHAT_BUTTON_SIZE, CHAT_BUTTON_KIND };\n\n/**\n * Chat Button\n *\n * @element cds-chat-button\n *\n */\n@customElement(`${prefix}-chat-button`)\nclass CDSChatButton extends LitElement {\n  /**\n   * `true` if there is an icon.\n   */\n  private _hasIcon = false;\n\n  /**\n   * Handles `slotchange` event.\n   */\n  private _handleSlotChange({ target }: Event) {\n    this._hasIcon = (target as HTMLSlotElement).assignedNodes().some(\n      (node) => node.nodeType !== Node.TEXT_NODE || node!.textContent!.trim() // eslint-disable-line @typescript-eslint/no-non-null-assertion -- https://github.com/carbon-design-system/carbon/issues/20452\n    );\n    this.requestUpdate();\n  }\n\n  /**\n   * `true` if the button should be disabled.\n   */\n  @property({ type: Boolean, reflect: true })\n  disabled = false;\n\n  /**\n   *  Specify whether the `ChatButton` should be disabled\n   */\n  @property({ reflect: true })\n  kind = CHAT_BUTTON_KIND.PRIMARY;\n\n  /**\n   * Chat button size.\n   */\n  @property({ reflect: true })\n  size = CHAT_BUTTON_SIZE.LARGE;\n\n  /**\n   * Specify whether the `ChatButton` should be rendered as a quick action button\n   */\n  @property({ attribute: 'is-quick-action', type: Boolean })\n  isQuickAction = false;\n\n  /**\n   * Specify whether the quick action `ChatButton` should be rendered as selected. This disables the input\n   */\n  @property({ attribute: 'is-selected', type: Boolean })\n  isSelected = false;\n\n  render() {\n    const allowedSizes = [\n      CHAT_BUTTON_SIZE.SMALL,\n      CHAT_BUTTON_SIZE.MEDIUM,\n      CHAT_BUTTON_SIZE.LARGE,\n    ];\n\n    if (this.isQuickAction) {\n      this.kind = CHAT_BUTTON_KIND.GHOST;\n      this.size = CHAT_BUTTON_SIZE.SMALL;\n    } else {\n      // Do not allow size larger than `lg`\n      this.size = allowedSizes.includes(this.size)\n        ? this.size\n        : CHAT_BUTTON_SIZE.LARGE;\n    }\n\n    let classes = `${prefix}--chat-btn`;\n    classes += this._hasIcon ? ` ${prefix}--chat-btn--with-icon` : '';\n    classes += this.isQuickAction ? ` ${prefix}--chat-btn--quick-action` : '';\n    classes += this.isSelected\n      ? ` ${prefix}--chat-btn--quick-action--selected`\n      : '';\n\n    return html`\n      <cds-button\n        button-class-name=\"${classes}\"\n        size=\"${this.size}\"\n        kind=\"${this.kind}\"\n        ?disabled=\"${this.disabled}\">\n        <slot></slot\n        ><slot\n          name=\"icon\"\n          slot=\"icon\"\n          @slotchange=\"${this._handleSlotChange}\"></slot>\n      </cds-button>\n    `;\n  }\n\n  static styles = styles; // `styles` here is a `CSSResult` generated by custom WebPack loader\n}\n\nexport default CDSChatButton;\n"],"names":["customElement"],"mappings":"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"}
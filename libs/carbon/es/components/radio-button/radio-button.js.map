{"version":3,"file":"radio-button.js","sources":["../../../src/components/radio-button/radio-button.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2019, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { classMap } from 'lit/directives/class-map.js';\nimport { LitElement, html } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport HostListener from '../../globals/decorators/host-listener';\nimport FocusMixin from '../../globals/mixins/focus';\nimport HostListenerMixin from '../../globals/mixins/host-listener';\nimport RadioGroupManager, {\n  NAVIGATION_DIRECTION,\n  ManagedRadioButtonDelegate,\n} from '../../globals/internal/radio-group-manager';\nimport { RADIO_BUTTON_LABEL_POSITION, RADIO_BUTTON_ORIENTATION } from './defs';\nimport styles from './radio-button.scss?lit';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\nexport { RADIO_BUTTON_LABEL_POSITION };\n\n/**\n * Map of navigation direction by key for horizontal alignment.\n */\nconst navigationDirectionForKeyHorizontal = {\n  ArrowLeft: NAVIGATION_DIRECTION.BACKWARD,\n  Left: NAVIGATION_DIRECTION.BACKWARD, // IE\n  ArrowRight: NAVIGATION_DIRECTION.FORWARD,\n  Right: NAVIGATION_DIRECTION.FORWARD, // IE\n};\n\n/**\n * Map of navigation direction by key for vertical alignment.\n */\nconst navigationDirectionForKeyVertical = {\n  ArrowUp: NAVIGATION_DIRECTION.BACKWARD,\n  Up: NAVIGATION_DIRECTION.BACKWARD, // IE\n  ArrowDown: NAVIGATION_DIRECTION.FORWARD,\n  Down: NAVIGATION_DIRECTION.FORWARD, // IE\n};\n\n/**\n * The interface for `RadioGroupManager` for radio button.\n */\nclass RadioButtonDelegate implements ManagedRadioButtonDelegate {\n  /**\n   * The radio button to target.\n   */\n  private _radio: HTMLInputElement;\n\n  constructor(radio: HTMLInputElement) {\n    this._radio = radio;\n  }\n\n  get checked() {\n    return this._radio.checked;\n  }\n\n  set checked(checked) {\n    const { host } = this._radio.getRootNode() as ShadowRoot;\n    const { eventChange } = host.constructor as typeof CDSRadioButton;\n    (host as CDSRadioButton).checked = checked;\n    this._radio.tabIndex = checked ? 0 : -1;\n    host.dispatchEvent(\n      new CustomEvent(eventChange, {\n        bubbles: true,\n        composed: true,\n        detail: {\n          checked,\n          value: this._radio.value,\n          name: this._radio.name,\n        },\n      })\n    );\n  }\n\n  get tabIndex() {\n    return this._radio.tabIndex;\n  }\n\n  set tabIndex(tabIndex) {\n    this._radio.tabIndex = tabIndex;\n  }\n\n  get name() {\n    return this._radio.name;\n  }\n\n  get disabled() {\n    return this._radio.disabled;\n  }\n\n  compareDocumentPosition(other: RadioButtonDelegate) {\n    return this._radio.compareDocumentPosition(other._radio);\n  }\n\n  focus() {\n    this._radio.focus();\n  }\n}\n\n/**\n * Radio button.\n *\n * @element cds-radio-button\n * @fires cds-radio-button-changed - The custom event fired after this radio button changes its checked state.\n */\n@customElement(`${prefix}-radio-button`)\nclass CDSRadioButton extends HostListenerMixin(FocusMixin(LitElement)) {\n  /**\n   * The radio group manager associated with the radio button.\n   */\n  private _manager: RadioGroupManager | null = null;\n\n  /**\n   * The interface for `RadioGroupManager` for radio button.\n   */\n  private _radioButtonDelegate!: RadioButtonDelegate;\n\n  /**\n   * The hidden radio button.\n   */\n  @query('input')\n  private _inputNode!: HTMLInputElement;\n\n  /**\n   * Handles `click` event on this element.\n   */\n  @HostListener('click')\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- https://github.com/carbon-design-system/carbon/issues/20452\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  private _handleClick = (event) => {\n    if (\n      !(event.target as HTMLElement).matches(\n        (this.constructor as typeof CDSRadioButton)?.aiLabelItem\n      ) &&\n      !(event.target as HTMLElement).matches(\n        (this.constructor as typeof CDSRadioButton)?.slugItem\n      )\n    ) {\n      const {\n        disabled,\n        _radioButtonDelegate: radioButtonDelegate,\n        readOnly,\n      } = this;\n      if (readOnly) {\n        event.preventDefault();\n        return;\n      }\n      if (radioButtonDelegate && !disabled && !this.disabledItem) {\n        this.checked = true;\n        if (this._manager) {\n          this._manager.select(radioButtonDelegate, this.readOnly);\n        }\n        this.dispatchEvent(\n          new CustomEvent(\n            (this.constructor as typeof CDSRadioButton).eventChange,\n            {\n              bubbles: true,\n              composed: true,\n              detail: {\n                checked: this.checked,\n                value: this.value,\n                name: this.name,\n                event,\n              },\n            }\n          )\n        );\n      }\n      this.dispatchEvent(\n        new CustomEvent(\n          (this.constructor as typeof CDSRadioButton).eventChange,\n          {\n            bubbles: true,\n            composed: true,\n            detail: {\n              checked: this.checked,\n              value: this.value,\n              name: this.name,\n              event,\n            },\n          }\n        )\n      );\n    }\n  };\n\n  /**\n   * Handles `keydown` event on this element.\n   */\n  @HostListener('keydown')\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- https://github.com/carbon-design-system/carbon/issues/20452\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  private _handleKeydown = (event: KeyboardEvent) => {\n    if (\n      !(event.target as HTMLElement).matches(\n        (this.constructor as typeof CDSRadioButton)?.aiLabelItem\n      ) &&\n      !(event.target as HTMLElement).matches(\n        (this.constructor as typeof CDSRadioButton)?.slugItem\n      )\n    ) {\n      const {\n        orientation,\n        _radioButtonDelegate: radioButtonDelegate,\n        disabled,\n        disabledItem,\n        readOnly,\n      } = this;\n      const manager = this._manager;\n      if (readOnly) {\n        event.preventDefault();\n        return;\n      }\n      if (radioButtonDelegate && manager && !disabled && !disabledItem) {\n        const navigationDirectionForKey =\n          orientation === RADIO_BUTTON_ORIENTATION.HORIZONTAL\n            ? navigationDirectionForKeyHorizontal\n            : navigationDirectionForKeyVertical;\n        const navigationDirection = navigationDirectionForKey[event.key];\n        if (navigationDirection) {\n          manager.select(\n            manager.navigate(radioButtonDelegate, navigationDirection),\n            this.readOnly\n          );\n        }\n        if (event.key === ' ' || event.key === 'Enter') {\n          manager.select(radioButtonDelegate, this.readOnly);\n        }\n      }\n    }\n  };\n\n  /**\n   * Handles `slotchange` event.\n   */\n  protected _handleSlotChange({ target }: Event) {\n    const hasContent = (target as HTMLSlotElement)\n      .assignedNodes()\n      .filter((elem) =>\n        (elem as HTMLElement).matches !== undefined\n          ? (elem as HTMLElement).matches(\n              (this.constructor as typeof CDSRadioButton).aiLabelItem\n            ) ||\n            // remove reference to slug in v12\n            (elem as HTMLElement).matches(\n              (this.constructor as typeof CDSRadioButton).slugItem\n            )\n          : false\n      );\n\n    this._hasAILabel = Boolean(hasContent);\n    const type = (hasContent[0] as HTMLElement).getAttribute('kind');\n    (hasContent[0] as HTMLElement).setAttribute(\n      'size',\n      type === 'inline' ? 'md' : 'mini'\n    );\n    this.requestUpdate();\n  }\n\n  /**\n   * `true` if there is an AI Label.\n   */\n  protected _hasAILabel = false;\n\n  /**\n   * `true` if this radio button should be checked.\n   */\n  @property({ type: Boolean, reflect: true })\n  checked = false;\n\n  /**\n   * `true` if the radio button is used in a data table\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'data-table' })\n  dataTable = false;\n\n  /**\n   * Specify whether the `<radio-button>` should be checked by default\n   */\n  @property({ type: Boolean, attribute: 'default-checked' })\n  defaultChecked = false;\n\n  /**\n   * `true` if the radio button item should be disabled.\n   */\n  @property({ type: Boolean, reflect: true })\n  disabledItem = false;\n\n  /**\n   * `true` if the radio button group should be disabled.\n   */\n  @property({ type: Boolean, reflect: true })\n  disabled = false;\n\n  /**\n   * `true` if the label should be hidden.\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'hide-label' })\n  hideLabel = false;\n\n  /**\n   * Specify if the currently value is invalid.\n   */\n  @property({ type: Boolean, reflect: true })\n  invalid = false;\n\n  /**\n   * Specify whether the control is currently in warning state\n   */\n  @property({ type: Boolean, reflect: true })\n  warn = false;\n\n  /**\n   * Provide the text that is displayed when the control is in warning state\n   */\n  @property({ attribute: 'warn-text' })\n  warnText = '';\n\n  /**\n   * The label position.\n   */\n  @property({ reflect: true, attribute: 'label-position' })\n  labelPosition = RADIO_BUTTON_LABEL_POSITION.RIGHT;\n\n  /**\n   * The label text.\n   */\n  @property({ attribute: 'label-text' })\n  labelText = '';\n\n  /**\n   * The `name` attribute for the `<input>` for selection.\n   */\n  @property()\n  name!: string;\n\n  /**\n   * The orientation to lay out radio buttons.\n   */\n  @property({ reflect: true })\n  orientation = RADIO_BUTTON_ORIENTATION.HORIZONTAL;\n\n  /**\n   * `true` if the radio button group should be disabled.\n   */\n  @property({ type: Boolean, reflect: true })\n  readOnly = false;\n\n  /**\n   * `true` if the radio button is required.\n   */\n  @property({ type: Boolean, reflect: true })\n  required = false;\n\n  /**\n   * The `value` attribute for the `<input>` for selection.\n   */\n  @property()\n  value!: string;\n\n  disconnectedCallback() {\n    if (this._manager) {\n      this._manager.delete(this._radioButtonDelegate);\n    }\n    super.disconnectedCallback();\n  }\n\n  firstUpdated() {\n    this._radioButtonDelegate = new RadioButtonDelegate(this._inputNode);\n\n    // If user hasnâ€™t explicitly set `checked`, respect `defaultChecked`\n    if (this.defaultChecked && this.checked === false) {\n      this.checked = true;\n    }\n  }\n\n  updated(changedProperties) {\n    const {\n      _hasAILabel: hasAILabel,\n      _inputNode: inputNode,\n      _radioButtonDelegate: radioButtonDelegate,\n      name,\n      disabled,\n      disabledItem,\n      readOnly,\n      invalid,\n      warn,\n    } = this;\n\n    // Normalize input props similar to useNormalizedInputProps in React\n    const normalizedProps = {\n      disabled: !readOnly && (disabled || disabledItem),\n      invalid: !readOnly && !disabled && !disabledItem && invalid,\n      warn: !readOnly && !disabled && !disabledItem && !invalid && warn,\n    };\n\n    if (changedProperties.has('checked') || changedProperties.has('name')) {\n      if (!this._manager) {\n        this._manager = RadioGroupManager.get(\n          this.getRootNode({ composed: true }) as Document\n        );\n      }\n      const { _manager: manager } = this;\n      if (changedProperties.has('name')) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- https://github.com/carbon-design-system/carbon/issues/20452\n        manager!.delete(radioButtonDelegate, changedProperties.get('name'));\n        if (name) {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- https://github.com/carbon-design-system/carbon/issues/20452\n          manager!.add(radioButtonDelegate);\n        }\n      }\n      // Disabled items should have tabIndex -1.\n      inputNode.setAttribute(\n        'tabindex',\n        !name ||\n          !manager ||\n          this.disabled ||\n          this.disabledItem ||\n          !manager.shouldBeFocusable(radioButtonDelegate)\n          ? '-1'\n          : '0'\n      );\n    }\n    // Handle validation states based on normalized props\n    if (\n      changedProperties.has('invalid') ||\n      changedProperties.has('warn') ||\n      changedProperties.has('disabled') ||\n      changedProperties.has('disabledItem') ||\n      changedProperties.has('readOnly')\n    ) {\n      // Apply normalized validation states\n      if (normalizedProps.invalid) {\n        this.setAttribute('invalid', '');\n        this.removeAttribute('warn');\n      } else if (normalizedProps.warn) {\n        this.setAttribute('warn', '');\n        this.removeAttribute('invalid');\n      } else {\n        this.removeAttribute('invalid');\n        this.removeAttribute('warn');\n      }\n    }\n\n    // eslint-disable-next-line  @typescript-eslint/no-unused-expressions -- https://github.com/carbon-design-system/carbon/issues/20452\n    hasAILabel\n      ? this.setAttribute('ai-label', '')\n      : this.removeAttribute('ai-label');\n  }\n\n  render() {\n    const {\n      checked,\n      hideLabel,\n      labelText,\n      name,\n      value,\n      disabled,\n      disabledItem,\n      readOnly,\n      invalid,\n      warn,\n    } = this;\n\n    // Normalize input props similar to useNormalizedInputProps in React\n    const normalizedProps = {\n      disabled: !readOnly && (disabled || disabledItem),\n      invalid: !readOnly && !disabled && !disabledItem && invalid,\n      warn: !readOnly && !disabled && !disabledItem && !invalid && warn,\n    };\n    const innerLabelClasses = classMap({\n      [`${prefix}--radio-button__label-text`]: true,\n      [`${prefix}--visually-hidden`]: hideLabel,\n    });\n    return html`\n      <input\n        id=\"radio\"\n        type=\"radio\"\n        class=\"${prefix}--radio-button\"\n        .checked=${checked}\n        ?disabled=\"${disabledItem || disabled}\"\n        ?required=${this.required}\n        aria-readonly=\"${String(Boolean(readOnly))}\"\n        name=${ifDefined(name)}\n        value=${ifDefined(value)} />\n      <label\n        for=\"input\"\n        class=\"${prefix}--radio-button__label ${normalizedProps.invalid\n          ? `${prefix}--radio-button__label--invalid`\n          : ''} ${normalizedProps.warn\n          ? `${prefix}--radio-button__label--warn`\n          : ''}\">\n        <span class=\"${prefix}--radio-button__appearance\"></span>\n        <span class=\"${innerLabelClasses}\">\n          <slot> ${labelText} </slot>\n          <slot name=\"ai-label\" @slotchange=\"${this._handleSlotChange}\"></slot>\n          <slot name=\"slug\" @slotchange=\"${this._handleSlotChange}\"></slot\n        ></span>\n      </label>\n    `;\n  }\n\n  /**\n   * A selector that will return the slug item.\n   *\n   * remove in v12\n   */\n  static get slugItem() {\n    return `${prefix}-slug`;\n  }\n\n  /**\n   * A selector that will return the AI Label item.\n   */\n  static get aiLabelItem() {\n    return `${prefix}-ai-label`;\n  }\n\n  /**\n   * The name of the custom event fired after this radio button changes its checked state.\n   */\n  static get eventChange() {\n    return `${prefix}-radio-button-changed`;\n  }\n\n  static shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n  static styles = styles;\n}\n\nexport default CDSRadioButton;\n"],"names":["customElement"],"mappings":"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"}
{"version":3,"file":"slug.js","sources":["../../../src/components/slug/slug.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2019, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { classMap } from 'lit/directives/class-map.js';\nimport { html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport CDSToggleTip from '../toggle-tip/toggletip';\nimport styles from './slug.scss?lit';\nimport { SLUG_SIZE, SLUG_KIND } from './defs';\nimport Undo16 from '@carbon/icons/es/undo/16.js';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\nimport { iconLoader } from '../../globals/internal/icon-loader';\n\n/**\n * Basic slug.\n *\n * @deprecated This component has been deprecated, please use the <cds-custom-ai-label> component instead.\n * @element cds-custom-slug\n */\n@customElement(`${prefix}-slug`)\nexport default class CDSSlug extends CDSToggleTip {\n  @property({ reflect: true })\n  slot = 'slug';\n  /**\n   * Specify the correct translation of the AI text\n   */\n  @property({ attribute: 'ai-text' })\n  aiText = 'AI';\n\n  /**\n   * Specify additional text to be rendered next to the AI label in the inline variant\n   */\n  @property({ attribute: 'ai-text-label' })\n  aiTextLabel = '';\n\n  /**\n   * Specify the type of Slug, from the following list of types: (default, inline)\n   */\n  @property({ reflect: true })\n  kind = SLUG_KIND.DEFAULT;\n\n  /**\n   * Specify whether the revert button should be visible\n   */\n  @property({ type: Boolean, attribute: 'revert-active' })\n  revertActive = false;\n\n  /**\n   * Specify whether the revert button should be visible\n   */\n  @property({ attribute: 'revert-label' })\n  revertLabel = 'Revert to AI input';\n\n  /**\n   * Slug size should be mini, 2xs, xs, sm, md, lg, xl.\n   */\n  @property({ reflect: true })\n  size = SLUG_SIZE.EXTRA_SMALL;\n\n  /**\n   * Specify the text that will be provided to the aria-label of the `Slug` button\n   */\n  @property({ attribute: 'slug-label' })\n  slugLabel = 'Show information';\n\n  @property()\n  previousValue;\n\n  protected _handleClick = () => {\n    if (this.revertActive) {\n      this.revertActive = false;\n      this.removeAttribute('revert-active');\n    } else {\n      this.open = !this.open;\n    }\n  };\n\n  protected _renderToggleTipLabel = () => {\n    return html``;\n  };\n\n  protected _renderTooltipButton = () => {\n    const { size, kind, aiText, aiTextLabel, slugLabel } = this;\n    const ariaLabel = `${aiText} - ${slugLabel}`;\n    const classes = classMap({\n      [`${prefix}--toggletip-button`]: true,\n      [`${prefix}--slug__button`]: true,\n      [`${prefix}--slug__button--${size}`]: size,\n      [`${prefix}--slug__button--${kind}`]: kind,\n      [`${prefix}--slug__button--inline-with-content`]:\n        kind === SLUG_KIND.INLINE && aiTextLabel,\n    });\n    return html`\n      <button\n        aria-controls=\"${this.id}\"\n        @click=\"${this._handleClick}\"\n        class=${classes}\n        aria-label=\"${ariaLabel}\">\n        <span class=\"${prefix}--slug__text\">${aiText}</span>\n        ${aiTextLabel && kind === SLUG_KIND.INLINE\n          ? html`\n              <span class=\"${prefix}--slug__additional-text\">\n                ${aiTextLabel}\n              </span>\n            `\n          : ``}\n      </button>\n    `;\n  };\n\n  protected _renderInnerContent = () => {\n    const { autoalign, revertActive, revertLabel } = this;\n    return html`\n      ${revertActive\n        ? html`\n            <cds-custom-icon-button\n              ?autoalign=${autoalign}\n              kind=\"ghost\"\n              size=\"sm\"\n              @click=\"${this._handleClick}\">\n              <span slot=\"tooltip-content\"> ${revertLabel} </span>\n              ${iconLoader(Undo16, { slot: 'icon' })}\n            </cds-custom-icon-button>\n          `\n        : html`\n            ${this._renderTooltipButton()} ${this._renderTooltipContent()}\n          `}\n    `;\n  };\n\n  attributeChangedCallback(name, old, newValue) {\n    super.attributeChangedCallback(name, old, newValue);\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- https://github.com/carbon-design-system/carbon/issues/20452\n    //@ts-ignore typescript does not think requestUpdate() exists on parentElement\n    name === 'revert-active' ? this.parentElement?.requestUpdate() : ``; // eslint-disable-line  @typescript-eslint/no-unused-expressions -- https://github.com/carbon-design-system/carbon/issues/20452\n  }\n\n  static styles = styles;\n}\n"],"names":["customElement"],"mappings":"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"}
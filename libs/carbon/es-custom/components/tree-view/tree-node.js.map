{"version":3,"file":"tree-node.js","sources":["../../../src/components/tree-view/tree-node.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2025, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { classMap } from 'lit/directives/class-map.js';\nimport { LitElement, html } from 'lit';\nimport { property, state } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport { iconLoader } from '../../globals/internal/icon-loader';\nimport CaretDown16 from '@carbon/icons/es/caret--down/16.js';\n\nimport styles from './tree-view.scss?lit';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\n/**\n * Tree node.\n *\n * @element cds-custom-tree-node\n * @fires eventSelected\n *   The name of the custom event fired when node is selected.\n * @fires eventToggled\n *   The name of the custom event fired when a node is toggled.\n */\n@customElement(`${prefix}-tree-node`)\nclass CDSTreeNode extends LitElement {\n  private _hasChildren = false;\n  private _hasIcon = false;\n  /**\n   * Handles `slotchange` event.\n   */\n  private _handleSlotChange({ target }: Event) {\n    const { _depth: depth, disabled } = this;\n    const items = (target as HTMLSlotElement)\n      .assignedNodes()\n      .filter(\n        (node) =>\n          node.nodeType === Node.ELEMENT_NODE &&\n          (node as Element).tagName.toLowerCase() === `${prefix}-tree-node`\n      );\n\n    items.forEach((item) => {\n      (item as CDSTreeNode)._depth = depth + 1;\n      (item as CDSTreeNode).disabled = disabled;\n    });\n\n    this._hasChildren = items.length > 0;\n    if (this._hasChildren) this.setAttribute('parent', '');\n    this.requestUpdate();\n  }\n\n  /**\n   * Handles icon's `slotchange` event.\n   */\n  private _handleIconSlotChange({ target }: Event) {\n    this._hasIcon = (target as HTMLSlotElement).assignedNodes().length > 0;\n    if (this._hasIcon) this.setAttribute('has-icon', '');\n    this.requestUpdate();\n  }\n\n  /**\n   * Handles style updates based on depth\n   */\n  private _handleStyles = () => {\n    const {\n      _depth: depth,\n      _hasChildren: hasChildren,\n      _hasIcon: hasIcon,\n    } = this;\n    const calcOffset = () => {\n      if (hasChildren && hasIcon) {\n        return depth + 1 + depth * 0.5;\n      }\n\n      if (hasChildren) {\n        return depth + 1;\n      }\n\n      if (hasIcon) {\n        return depth + 2 + depth * 0.5;\n      }\n\n      return depth + 2.5;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- https://github.com/carbon-design-system/carbon/issues/20452\n    const label = this.shadowRoot!.querySelector(\n      `.${prefix}--tree-node__label`\n    );\n    if (label) {\n      (label as HTMLElement).style.marginInlineStart = `-${calcOffset()}rem`;\n      (label as HTMLElement).style.paddingInlineStart = `${calcOffset()}rem`;\n    }\n  };\n\n  _handleToggleClick = (event) => {\n    const { disabled, href } = this;\n    if (disabled) return;\n    event.stopPropagation();\n    if (href) {\n      event.preventDefault();\n    }\n    this.isExpanded = !this.isExpanded;\n    if (this.hasAttribute('aria-expanded')) {\n      this.setAttribute('aria-expanded', String(this.isExpanded));\n    }\n  };\n\n  /**\n   * sets if tree node is active\n   */\n  @property({ type: Boolean, reflect: true })\n  active = false;\n\n  /**\n   * disabled property\n   */\n  @property({ type: Boolean, reflect: true })\n  disabled = false;\n\n  /**\n   * **Note:** this is controlled by the parent TreeView component, do not set manually.\n   * TreeNode depth to determine spacing\n   */\n  @state()\n  private _depth = 0;\n\n  /**\n   * Specify if the TreeNode is expanded (only applicable to parent nodes)\n   */\n  @property({ type: Boolean, attribute: 'is-expanded' })\n  isExpanded = false;\n\n  /**\n   * Optional: The URL the TreeNode is linking to\n   */\n  @property({})\n  href;\n\n  /**\n   * Specify the TreeNode's ID. Must be unique in the DOM and is used for props.active, props.selected and aria-owns\n   */\n  @property({})\n  id = Math.random().toString(16).slice(2);\n\n  /**\n   * Rendered label for the TreeNode\n   */\n  @property({})\n  label!: string;\n\n  /**\n   * sets if tree node is selected\n   */\n  @property({ type: Boolean, reflect: true })\n  selected = false;\n\n  /**\n   * when adding an href to control the click functionality\n   */\n  @property({ type: Function })\n  onClick?: (event: Event) => void;\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    // Detect children on first render\n    this._hasChildren = Array.from(this.children).some(\n      (node) => node.tagName.toLowerCase() === `${prefix}-tree-node`\n    );\n\n    this._hasIcon = Array.from(this.children).some(\n      (node) => node.getAttribute('slot') === 'icon'\n    );\n\n    if (!this.hasAttribute('role') && !this.href) {\n      this.setAttribute('role', 'treeitem');\n    }\n\n    if (this._hasChildren && !this.href) {\n      this.setAttribute('aria-expanded', String(this.isExpanded));\n    }\n\n    if (!this.hasAttribute('aria-label')) {\n      this.setAttribute('aria-label', this.label);\n    }\n  }\n\n  private _dispatchSelectedEvent(value) {\n    const { eventSelected } = this.constructor as typeof CDSTreeNode;\n    this.dispatchEvent(\n      new CustomEvent(eventSelected, {\n        bubbles: true,\n        composed: true,\n        detail: {\n          value,\n        },\n      })\n    );\n  }\n\n  private _dispatchToggledEvent(value, expanded) {\n    const { eventToggled } = this.constructor as typeof CDSTreeNode;\n    this.dispatchEvent(\n      new CustomEvent(eventToggled, {\n        bubbles: true,\n        composed: true,\n        detail: {\n          value,\n          expanded: expanded,\n        },\n      })\n    );\n  }\n\n  updated(changedProperties) {\n    if (changedProperties.has('_depth')) {\n      this._handleStyles();\n    }\n    if (changedProperties.has('selected')) {\n      if (!this.href) {\n        this.setAttribute(\n          'aria-selected',\n          String(\n            !this.href ? (this.disabled ? undefined : this.selected) : undefined\n          )\n        );\n      }\n\n      if (this.selected) {\n        this._dispatchSelectedEvent(this.label);\n      }\n    }\n\n    if (changedProperties.has('active') && !this.href) {\n      this.setAttribute(\n        'aria-current',\n        String(\n          !this.href\n            ? this.active || undefined\n            : this.active\n              ? 'page'\n              : undefined\n        )\n      );\n    }\n\n    if (changedProperties.has('disabled')) {\n      this.setAttribute('aria-disabled', String(this.disabled));\n    }\n\n    if (changedProperties.has('isExpanded')) {\n      this._dispatchToggledEvent(this.label, this.isExpanded);\n    }\n  }\n\n  render() {\n    const {\n      disabled,\n      isExpanded,\n      href,\n      id,\n      label,\n      onClick,\n      _hasChildren: hasChildren,\n      _handleIconSlotChange: handleIconSlotChange,\n      _handleSlotChange: handleSlotChange,\n      _handleToggleClick: handleToggleClick,\n    } = this;\n\n    let toggleClasses = `${prefix}--tree-parent-node__toggle-icon`;\n    if (isExpanded) {\n      toggleClasses += `${prefix}--tree-parent-node__toggle-icon--expanded`;\n    }\n\n    const linkClasses = classMap({\n      [`${prefix}--tree-node`]: true,\n      [`${prefix}--tree-node--active`]: this.active,\n      [`${prefix}--tree-node--disabled`]: disabled,\n      [`${prefix}--tree-node--selected`]: this.selected,\n      [`${prefix}--tree-node--with-icon`]: this._hasIcon,\n      [`${prefix}--tree-leaf-node`]: !this._hasChildren,\n      [`${prefix}--tree-parent-node`]: this._hasChildren,\n    });\n\n    const subTreeClasses = classMap({\n      [`${prefix}--tree-node__children`]: true,\n      [`${prefix}--tree-node__hidden`]: !isExpanded,\n    });\n\n    return html`\n      ${!hasChildren\n        ? html`\n            ${href\n              ? html`<a\n                  class=${linkClasses}\n                  href=${!disabled ? href : undefined}\n                  role=\"treeitem\"\n                  ?aria-disabled=${disabled}\n                  aria-current=${!this.href\n                    ? this.active || undefined\n                    : this.active\n                      ? 'page'\n                      : undefined}\n                  tabindex=${disabled ? -1 : undefined}\n                  @click=${onClick}>\n                  <div id=\"label\" class=\"${prefix}--tree-node__label\">\n                    <slot\n                      name=\"icon\"\n                      @slotchange=${handleIconSlotChange}></slot>\n                    ${label}\n                  </div>\n                </a>`\n              : html` <div id=\"label\" class=\"${prefix}--tree-node__label\">\n                  <slot name=\"icon\" @slotchange=${handleIconSlotChange}></slot>\n                  ${label}\n                </div>`}\n          `\n        : html`\n            ${href\n              ? html` <a\n                    role=\"treeitem\"\n                    class=${linkClasses}\n                    aria-expanded=${!!isExpanded}\n                    aria-owns=\"subtree-id-${id}\"\n                    href=${!disabled ? href : undefined}\n                    tabindex=${disabled ? -1 : undefined}\n                    @click=${onClick}>\n                    <div id=\"label\" class=\"${prefix}--tree-node__label\">\n                      <span\n                        class=\"${prefix}--tree-parent-node__toggle\"\n                        ?disabled=${disabled}\n                        @click=${handleToggleClick}>\n                        ${iconLoader(CaretDown16, { class: toggleClasses })}\n                      </span>\n                      <span class=\"${prefix}--tree-node__label__details\">\n                        <slot\n                          name=\"icon\"\n                          @slotchange=${handleIconSlotChange}></slot>\n                        ${label}\n                      </span>\n                    </div>\n                  </a>\n                  <ul\n                    id=\"subtree-id-${id}\"\n                    role=\"group\"\n                    class=\"${subTreeClasses}\">\n                    <slot @slotchange=${handleSlotChange}></slot>\n                  </ul>`\n              : html`<div id=\"label\" class=\"${prefix}--tree-node__label\">\n                    <span\n                      class=\"${prefix}--tree-parent-node__toggle\"\n                      ?disabled=${disabled}\n                      @click=${handleToggleClick}>\n                      ${iconLoader(CaretDown16, { class: toggleClasses })}\n                    </span>\n                    <span class=\"${prefix}--tree-node__label__details\">\n                      <slot\n                        name=\"icon\"\n                        @slotchange=${handleIconSlotChange}></slot>\n                      ${label}\n                    </span>\n                  </div>\n                  <ul\n                    id=\"subtree-id-${id}\"\n                    role=\"group\"\n                    class=\"${subTreeClasses}\">\n                    <slot @slotchange=${handleSlotChange}></slot>\n                  </ul>`}\n          `}\n    `;\n  }\n\n  /**\n   * The name of the custom event fired when node is selected.\n   */\n  static get eventSelected() {\n    return `${prefix}-tree-node-selected`;\n  }\n\n  /**\n   * The name of the custom event fired when a node is toggled\n   */\n  static get eventToggled() {\n    return `${prefix}-tree-node-toggled`;\n  }\n\n  static styles = styles;\n}\n\nexport default CDSTreeNode;\n"],"names":["customElement"],"mappings":"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"}